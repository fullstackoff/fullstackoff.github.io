import{_}from"./AkitO9Ie.js";import{d,g as h,t as o,v as c,P as x,Q as k,X as K,R as r,Y as y,Z as g,y as M,$ as w,r as u,a8 as z,o as L,e as S,a2 as V,x as p,z as v,L as f,a7 as $}from"./CL4pTy-0.js";const B=["onClick"],N=d({__name:"Navmenu",props:["settings"],setup(e){const s=e,a=n=>n===s.settings.active?s.settings.itemClass+" "+s.settings.itemClassActive:s.settings.itemClass;return(n,l)=>{const i=h("fa");return o(),c("div",null,[(o(!0),c(x,null,k(e.settings.items,t=>(o(),c("div",{key:t[e.settings.itemValueKey],style:K(e.settings.itemStyle),onClick:m=>n.$emit("go",t[e.settings.itemValueKey]),class:r(a(t[e.settings.itemValueKey]))},[e.settings.itemIconKey!==void 0?(o(),y(i,{key:0,class:r(e.settings.itemIconClass),icon:[t[e.settings.itemIconKey].type,t[e.settings.itemIconKey].src]},null,8,["class","icon"])):g("",!0),e.settings.itemLabelKey!==void 0||e.settings.itemLabelKey!==!1?(o(),c("span",{key:1,class:r(e.settings.itemLabelClass)},M(t[e.settings.itemLabelKey]),3)):g("",!0)],14,B))),128))])}}}),I=w("mapbox",()=>{const e=u(null),s=u(null);function a(t){s.value=t}function n(t){e.value=new z.Map({container:t,style:"mapbox://styles/mapbox/streets-v11",center:[0,0],zoom:2})}function l(t,m){e.value&&e.value.setCenter([t,m])}function i(t){e.value&&e.value.setZoom(t)}return{setCache:a,cache:s,map:e,initializeMap:n,setCenter:l,setZoom:i}}),A={__name:"Mapbox",setup(e){const s=I(),a=u(null),n=u(null);return L(()=>{s.cache?a.value.appendChild(s.cache):(n.value=document.createElement("div"),n.value.setAttribute("ref","map"),n.value.setAttribute("id","mapboxMapContainer"),a.value.appendChild(n.value),s.initializeMap(n.value))}),S(()=>{s.setCache(a.value.firstChild)}),(l,i)=>(o(),c("div",{ref_key:"mapWrapper",ref:a},null,512))}},U={class:"d-flex flex-column w-100 h-100 ovfxy"},Z={class:"d-flex flex-row p-3 w-100"},P=d({__name:"widget",setup(e){V();const s=u({center:[0,0],zoom:10}),a=u({active:null,items:[{id:"mapbox",label:"Mapbox"},{id:"top",label:"Top"}],itemValueKey:"id",itemLabelKey:"label",itemClass:"me-3",itemClassActive:"font-weight-bold"});function n(l){console.log(l),a.value.active=l}return(l,i)=>{const t=_,m=N,b=A,C=$;return o(),c(x,null,[p("div",U,[p("div",Z,[v(t,{icon:"play",class:"p-2 bg-success",onClick:i[0]||(i[0]=()=>{})}),v(m,{settings:f(a),class:"d-flex flex-row",onGo:n},null,8,["settings"])]),f(a).active==="mapbox"?(o(),y(b,{key:0,settings:f(s),class:"w-100 h-100"},null,8,["settings"])):g("",!0)]),v(C)],64)}}});export{P as default};
